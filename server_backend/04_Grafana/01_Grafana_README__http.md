# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Grafana –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ LoRa –¥–∞–Ω–Ω—ã—Ö

## –û–±–∑–æ—Ä

–≠—Ç–∞ –ø–∞–ø–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–∞—à–±–æ—Ä–¥ Grafana –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ –∞–Ω–∞–ª–∏–∑–∞ –ø–∞–∫–µ—Ç–æ–≤ LoRa —Å–µ—Ç–∏. –î–∞—à–±–æ—Ä–¥ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö PostgreSQL –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.

## –§–∞–π–ª—ã

- `Grafana__dashboard_pro_v1.json` - –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–∞—à–±–æ—Ä–¥ Grafana —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π –ø–∞–Ω–µ–ª–µ–π
- http://YOUR_SERVER_IP:5001  -- –ò—Å–ø—Ä–∞–≤–∏—Ç—å IP –≤ —Ñ–∞–π–ª–µ

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Grafana 9.5.2 –∏–ª–∏ –≤—ã—à–µ
- PostgreSQL –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å —Ç–∞–±–ª–∏—Ü–µ–π `lora_tab`
- –î–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–µ—Ä—É –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Grafana

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Grafana –Ω–∞ —Å–µ—Ä–≤–µ—Ä

### Ubuntu/Debian

```bash
# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è Grafana
wget -q -O - https://packages.grafana.com/gpg.key | sudo apt-key add -

echo "deb https://packages.grafana.com/oss/deb stable main" | sudo tee -a /etc/apt/sources.list.d/grafana.list

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞–∫–µ—Ç–æ–≤ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞
sudo apt update
sudo apt install -y grafana

# –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞
sudo systemctl enable grafana-server
sudo systemctl start grafana-server

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
sudo systemctl status grafana-server
```

```
–ö–∞–∫ –≤–∞—Ä–∏–∞–Ω—Ç - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏–∑ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ Ubuntu/Debian
bash
sudo apt update
sudo apt install -y grafana


–ö–ª—é—á–µ–≤—ã–µ —Ä–∞–∑–ª–∏—á–∏—è:
–ê—Å–ø–µ–∫—Ç  –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
–í–µ—Ä—Å–∏—è  –ü–æ—Å–ª–µ–¥–Ω—è—è —Å—Ç–∞–±–∏–ª—å–Ω–∞—è  –ß–∞—Å—Ç–æ —É—Å—Ç–∞—Ä–µ–≤—à–∞—è (–Ω–∞ 1-2 –≤–µ—Ä—Å–∏–∏)
–û–±–Ω–æ–≤–ª–µ–Ω–∏—è  –ë—ã—Å—Ç—Ä—ã–µ (—Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –≤—ã–ø—É—Å–∫–∞) –ú–µ–¥–ª–µ–Ω–Ω—ã–µ (—á–µ—Ä–µ–∑ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –û–°)
–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å  –ü—Ä—è–º–æ –æ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤  –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ maintainers –û–°
–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å  –°—Ç–∞–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è –û—á–µ–Ω—å —Å—Ç–∞–±–∏–ª—å–Ω–∞—è (—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è)
–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —á–µ—Ä–µ–∑ —Å–æ–æ–±—â–µ—Å—Ç–≤–æ –û–°
```


Grafana –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É: `http://YOUR_SERVER_IP:3000`
–õ–æ–≥–∏–Ω: `admin` / –ü–∞—Ä–æ–ª—å: `admin`


## –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Grafana: `http://YOUR_SERVER_IP:3000`
2. –í–æ–π–¥–∏—Ç–µ –ø–æ–¥ `admin/admin`
   –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—Ö–æ–¥–µ, Grafana –ø–æ–ø—Ä–æ—Å–∏—Ç —Å–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å. 
3. –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–π datasource:
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ `Configuration` -> `Data sources` -> `Add data source`
   - –í—ã–±–µ—Ä–∏—Ç–µ `PostgreSQL`
   - –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
     ```
     Host: localhost:5432 (–∏–ª–∏ –≤–Ω–µ—à–Ω–∏–π —Å–µ—Ä–≤–µ—Ä –ë–î)
     Database: LoRa_db
     User: xxx_user
     Password: xxx_password
     SSL Mode: disable
     ```
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –¥–∞—Ç–∞—Å—É—Ä—Å

## –ò–º–ø–æ—Ä—Ç –¥–∞—à–±–æ—Ä–¥–∞

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ `Dashboards` -> `Import`
2. –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª `Grafana__dashboard_pro_v1.json`
3. –í—ã–±–µ—Ä–∏—Ç–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–π PostgreSQL datasource
4. –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –¥–∞—à–±–æ—Ä–¥

## –û–ø–∏—Å–∞–Ω–∏–µ –¥–∞—à–±–æ—Ä–¥–∞

–î–∞—à–±–æ—Ä–¥ —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ª–µ–¥—É—é—â–∏–µ –ø–∞–Ω–µ–ª–∏:

### –°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏
- –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∞–∫–µ—Ç–æ–≤
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∞–∫–µ—Ç–æ–≤ –∑–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥ –≤—Ä–µ–º–µ–Ω–∏
- –î–ª–∏–Ω–∞ –ø–µ—Ä–∏–æ–¥–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è
- –°—Ä–µ–¥–Ω—è—è –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å (–ø–∞–∫–µ—Ç–æ–≤ –≤ —á–∞—Å/–º–∏–Ω—É—Ç—É)

### –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —É—Ä–æ–≤–Ω—è —Å–∏–≥–Ω–∞–ª–∞
- –ì—Ä–∞—Ñ–∏–∫ —É—Ä–æ–≤–Ω—è —Å–∏–≥–Ω–∞–ª–∞ –≤ dBm –ø–æ –≤—Ä–µ–º–µ–Ω–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö user_id
- –°—Ä–µ–¥–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è —Å–∏–≥–Ω–∞–ª–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞

### –ê–Ω–∞–ª–∏–∑ —Ç–æ–ø–æ–ª–æ–≥–∏–∏
- –°–ø–∏—Å–æ–∫ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å ‚Üí –ø–æ–ª—É—á–∞—Ç–µ–ª—å
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —á–∞—Å—Ç–æ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Node ID
- –ú–∞—Ä–∫–µ—Ä—ã –¥–ª—è –≤—ã–¥–µ–ª–µ–Ω–Ω—ã—Ö —É–∑–ª–æ–≤ (üî¥üü¢)

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏
- –ö–Ω–æ–ø–∫–∞ –æ—á–∏—Å—Ç–∫–∏ —Ç–∞–±–ª–∏—Ü—ã (—Ç—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ URL —Å–µ—Ä–≤–µ—Ä–∞ API)

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –í—Ä–µ–º–µ–Ω–Ω–æ–π –¥–∏–∞–ø–∞–∑–æ–Ω
–î–∞—à–±–æ—Ä–¥ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 6 —á–∞—Å–æ–≤.
–ò–∑–º–µ–Ω–∏—Ç–µ –¥–∏–∞–ø–∞–∑–æ–Ω —Å –ø–æ–º–æ—â—å—é –º–µ–Ω—é "Time range".

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
–î–∞—à–±–æ—Ä–¥ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ –ø–∞–Ω–µ–ª–∏ dashboard.

### –§–∏–ª—å—Ç—Ä—ã –ø–æ user_id
–î–∞—à–±–æ—Ä–¥ —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ –ø–æ–ª—è–º:
- `Main` - –æ—Å–Ω–æ–≤–Ω–æ–π –Ω–∞–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö
- `Guest` - –≥–æ—Å—Ç—å-—É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ 1
- `Guest_2` - –≥–æ—Å—Ç—å-—É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ 2

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

‚ö†Ô∏è **–í–∞–∂–Ω–æ:**
- –ò–∑–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ Grafana
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ SSL/TLS –¥–ª—è –∑–∞—â–∏—â–µ–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
- –û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –¥–æ—Å—Ç—É–ø –∫ –ë–î —Ç–æ–ª—å–∫–æ –ø—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- –£–¥–∞–ª–∏—Ç–µ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ JSON —Ñ–∞–π–ª–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, IP –∞–¥—Ä–µ—Å–∞)

## –†–µ—Å—É—Ä—Å—ã

- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Grafana](https://grafana.com/docs/grafana/latest/)
- [PostgreSQL Data Source](https://grafana.com/docs/grafana/latest/datasources/postgres/)
- [Dashboard Import](https://grafana.com/docs/grafana/latest/dashboards/manage-dashboards/#import-a-dashboard)
