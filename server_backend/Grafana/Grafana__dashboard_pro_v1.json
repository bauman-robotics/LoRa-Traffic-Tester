{
  "annotations": {
    "list": [
      {
        "builtIn": 1,
        "datasource": {
          "type": "grafana",
          "uid": "-- Grafana --"
        },
        "enable": true,
        "hide": true,
        "iconColor": "rgba(0, 211, 255, 1)",
        "name": "Annotations & Alerts",
        "type": "dashboard"
      }
    ]
  },
  "editable": true,
  "fiscalYearStartMonth": 0,
  "graphTooltip": 0,
  "id": 7,
  "links": [],
  "liveNow": false,
  "panels": [
    {
      "datasource": {
        "type": "postgres",
        "uid": "f458e51a-d65c-4248-b08c-8c26057d9720"
      },
      "gridPos": {
        "h": 3,
        "w": 3,
        "x": 0,
        "y": 0
      },
      "id": 23,
      "options": {
        "code": {
          "language": "plaintext",
          "showLineNumbers": false,
          "showMiniMap": false
        },
        "content": "<div style=\"text-align: center;\">\n  <a href=\"http://YOUR_SERVER_IP:5001/api/lora/clear?confirm=yes\" \n     target=\"_blank\" \n     style=\"padding: 10px 20px; background: #ff4444; color: white; text-decoration: none; border-radius: 5px; font-size: 16px;\">\n    –û—á–∏—Å—Ç–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É\n  </a>\n</div>",
        "mode": "html"
      },
      "pluginVersion": "9.5.2",
      "type": "text"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "eae69e34-0aef-4950-a479-8b979ad67b75"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 3,
        "w": 2,
        "x": 3,
        "y": 0
      },
      "id": 1,
      "options": {
        "colorMode": "value",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "textMode": "auto"
      },
      "pluginVersion": "9.5.2",
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "eae69e34-0aef-4950-a479-8b979ad67b75"
          },
          "editorMode": "code",
          "format": "table",
          "rawQuery": true,
          "rawSql": "SELECT COUNT(*) as value \nFROM lora_tab\nWHERE user_id = 'Main';",
          "refId": "A",
          "sql": {
            "columns": [
              {
                "parameters": [],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50
          }
        }
      ],
      "title": "–í—Å–µ–≥–æ –ø–∞–∫–µ—Ç–æ–≤ Main",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "eae69e34-0aef-4950-a479-8b979ad67b75"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 3,
        "w": 2,
        "x": 5,
        "y": 0
      },
      "id": 2,
      "options": {
        "colorMode": "value",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "textMode": "auto"
      },
      "pluginVersion": "9.5.2",
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "eae69e34-0aef-4950-a479-8b979ad67b75"
          },
          "editorMode": "code",
          "format": "table",
          "rawQuery": true,
          "rawSql": "SELECT COUNT(*) as value\nFROM lora_tab\nWHERE $__timeFilter(created_at)\n  AND user_id = 'Main';",
          "refId": "A",
          "sql": {
            "columns": [
              {
                "parameters": [],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50
          }
        }
      ],
      "title": "–ü–∞–∫–µ—Ç–æ–≤ –≤ –æ–∫–Ω–µ Main",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "eae69e34-0aef-4950-a479-8b979ad67b75"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "s"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 3,
        "w": 3,
        "x": 7,
        "y": 0
      },
      "id": 3,
      "options": {
        "colorMode": "value",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "textMode": "auto"
      },
      "pluginVersion": "9.5.2",
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "eae69e34-0aef-4950-a479-8b979ad67b75"
          },
          "editorMode": "code",
          "format": "table",
          "rawQuery": true,
          "rawSql": "SELECT \n  EXTRACT(EPOCH FROM (MAX(created_at) - MIN(created_at))) as value\nFROM lora_tab\nWHERE $__timeFilter(created_at);  ",
          "refId": "A",
          "sql": {
            "columns": [
              {
                "parameters": [],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50
          }
        }
      ],
      "title": "–ü–µ—Ä–∏–æ–¥ –∏–∑–º–µ—Ä–µ–Ω–∏—è",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "eae69e34-0aef-4950-a479-8b979ad67b75"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "decimals": 0,
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 3,
        "w": 3,
        "x": 10,
        "y": 0
      },
      "id": 4,
      "options": {
        "colorMode": "value",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "textMode": "auto"
      },
      "pluginVersion": "9.5.2",
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "eae69e34-0aef-4950-a479-8b979ad67b75"
          },
          "editorMode": "code",
          "format": "table",
          "rawQuery": true,
          "rawSql": "SELECT \n  CASE \n    WHEN EXTRACT(EPOCH FROM ($__timeTo()::timestamp - $__timeFrom()::timestamp)) >= 3600 THEN\n      COUNT(*) / EXTRACT(EPOCH FROM ($__timeTo()::timestamp - $__timeFrom()::timestamp)) * 3600\n    ELSE\n      COUNT(*) / GREATEST(EXTRACT(EPOCH FROM ($__timeTo()::timestamp - $__timeFrom()::timestamp)), 900) * 3600\n  END as value\nFROM lora_tab\nWHERE $__timeFilter(created_at) \n  AND user_id = 'Main';",
          "refId": "A",
          "sql": {
            "columns": [
              {
                "parameters": [],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50
          }
        }
      ],
      "title": "–ö–æ–ª-–≤–æ –ø–∞–∫–µ—Ç–æ–≤ –≤ —á–∞—Å Main",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "eae69e34-0aef-4950-a479-8b979ad67b75"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "decimals": 1,
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 3,
        "w": 3,
        "x": 13,
        "y": 0
      },
      "id": 5,
      "options": {
        "colorMode": "value",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "textMode": "auto"
      },
      "pluginVersion": "9.5.2",
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "eae69e34-0aef-4950-a479-8b979ad67b75"
          },
          "editorMode": "code",
          "format": "table",
          "rawQuery": true,
          "rawSql": "SELECT \n  (COUNT(*) / \n   GREATEST(EXTRACT(EPOCH FROM (MAX(created_at) - MIN(created_at))), 1) * 60\n  ) as value\nFROM lora_tab\nWHERE $__timeFilter(created_at) \n  AND user_id = 'Main';",
          "refId": "A",
          "sql": {
            "columns": [
              {
                "parameters": [],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50
          }
        }
      ],
      "title": "–ü–∞–∫–µ—Ç–æ–≤ –≤ –º–∏–Ω—É—Ç—É Main",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "eae69e34-0aef-4950-a479-8b979ad67b75"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "decimals": 1,
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 3,
        "w": 2,
        "x": 16,
        "y": 0
      },
      "id": 24,
      "options": {
        "colorMode": "value",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "textMode": "auto"
      },
      "pluginVersion": "9.5.2",
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "eae69e34-0aef-4950-a479-8b979ad67b75"
          },
          "editorMode": "code",
          "format": "table",
          "rawQuery": true,
          "rawSql": "SELECT \n  (COUNT(*) / \n   GREATEST(EXTRACT(EPOCH FROM (MAX(created_at) - MIN(created_at))), 1) * 60\n  ) as value\nFROM lora_tab\nWHERE $__timeFilter(created_at) \n  AND user_id = 'Guest';",
          "refId": "A",
          "sql": {
            "columns": [
              {
                "parameters": [],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50
          }
        }
      ],
      "title": "–ü–∞–∫–µ—Ç–æ–≤ –≤ –º–∏–Ω Guest",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "eae69e34-0aef-4950-a479-8b979ad67b75"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 3,
        "w": 2,
        "x": 18,
        "y": 0
      },
      "id": 8,
      "options": {
        "colorMode": "value",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "textMode": "auto"
      },
      "pluginVersion": "9.5.2",
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "eae69e34-0aef-4950-a479-8b979ad67b75"
          },
          "editorMode": "code",
          "format": "table",
          "rawQuery": true,
          "rawSql": "SELECT AVG(-ABS(signal_level_dbm)) AS value\nFROM lora_tab\nWHERE $__timeFilter(created_at);",
          "refId": "A",
          "sql": {
            "columns": [
              {
                "parameters": [],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50
          }
        }
      ],
      "title": "AVG All(dBm)",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "eae69e34-0aef-4950-a479-8b979ad67b75"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 3,
        "w": 2,
        "x": 20,
        "y": 0
      },
      "id": 9,
      "options": {
        "colorMode": "value",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "textMode": "auto"
      },
      "pluginVersion": "9.5.2",
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "eae69e34-0aef-4950-a479-8b979ad67b75"
          },
          "editorMode": "code",
          "format": "table",
          "rawQuery": true,
          "rawSql": "SELECT AVG(-ABS(signal_level_dbm)) AS value\nFROM lora_tab\nWHERE $__timeFilter(created_at)\n  AND user_id = 'Main';",
          "refId": "A",
          "sql": {
            "columns": [
              {
                "parameters": [],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50
          }
        }
      ],
      "title": "AVG Main (dBm)",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "eae69e34-0aef-4950-a479-8b979ad67b75"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 3,
        "w": 2,
        "x": 22,
        "y": 0
      },
      "id": 10,
      "options": {
        "colorMode": "value",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "textMode": "auto"
      },
      "pluginVersion": "9.5.2",
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "eae69e34-0aef-4950-a479-8b979ad67b75"
          },
          "editorMode": "code",
          "format": "table",
          "rawQuery": true,
          "rawSql": "SELECT AVG(-ABS(signal_level_dbm)) AS value\nFROM lora_tab\nWHERE $__timeFilter(created_at)\n  AND user_id = 'Guest';",
          "refId": "A",
          "sql": {
            "columns": [
              {
                "parameters": [],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50
          }
        }
      ],
      "title": "AVG Guest (dBm)",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "eae69e34-0aef-4950-a479-8b979ad67b75"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "custom": {
            "align": "auto",
            "cellOptions": {
              "type": "auto"
            },
            "inspect": false
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 3,
        "w": 13,
        "x": 0,
        "y": 3
      },
      "id": 22,
      "options": {
        "cellHeight": "sm",
        "footer": {
          "countRows": false,
          "fields": "",
          "reducer": [
            "sum"
          ],
          "show": false
        },
        "showHeader": false
      },
      "pluginVersion": "9.5.2",
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "eae69e34-0aef-4950-a479-8b979ad67b75"
          },
          "editorMode": "code",
          "format": "table",
          "rawQuery": true,
          "rawSql": "SELECT \n  STRING_AGG(\n    CASE \n      WHEN sender_nodeid IN ('D4C3C9D4', 'D4C677F0') OR destination_nodeid IN ('D4C3C9D4', 'D4C677F0') THEN \n        CONCAT(\n          CASE sender_nodeid\n            WHEN 'D4C3C9D4' THEN 'üî¥'\n            WHEN 'D4C677F0' THEN 'üü¢'\n            ELSE ''\n          END,\n          sender_nodeid,\n          ' ‚Üí ',\n          CASE destination_nodeid\n            WHEN 'D4C3C9D4' THEN 'üî¥'\n            WHEN 'D4C677F0' THEN 'üü¢'\n            ELSE ''\n          END,\n          destination_nodeid\n        )\n      ELSE \n        sender_nodeid || ' ‚Üí ' || destination_nodeid\n    END, \n    ' | '\n    ORDER BY created_at ASC\n  ) as marked_nodes\nFROM (\n  SELECT sender_nodeid, destination_nodeid, created_at\n  FROM lora_tab \n  WHERE user_id = 'Main'\n  ORDER BY created_at DESC\n  LIMIT 7\n) as latest_records;",
          "refId": "A",
          "sql": {
            "columns": [
              {
                "parameters": [],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50
          }
        }
      ],
      "title": "Main: Sender ID ->Dest ID",
      "type": "table"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "eae69e34-0aef-4950-a479-8b979ad67b75"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "custom": {
            "align": "auto",
            "cellOptions": {
              "type": "auto"
            },
            "inspect": false
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 9,
        "w": 6,
        "x": 13,
        "y": 3
      },
      "id": 26,
      "options": {
        "cellHeight": "sm",
        "footer": {
          "countRows": false,
          "fields": "",
          "reducer": [
            "sum"
          ],
          "show": false
        },
        "frameIndex": 1,
        "showHeader": false
      },
      "pluginVersion": "9.5.2",
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "eae69e34-0aef-4950-a479-8b979ad67b75"
          },
          "editorMode": "code",
          "format": "table",
          "rawQuery": true,
          "rawSql": "SELECT \n  --destination_nodeid as \"Node ID\",\n  sender_nodeid as \"Node ID\",\n  COUNT(*) as \"Frequency\",\n  CASE \n    WHEN EXTRACT(EPOCH FROM (MAX(created_at) - MIN(created_at))) > 0 \n    THEN ROUND(COUNT(*) * 3600.0 / EXTRACT(EPOCH FROM (MAX(created_at) - MIN(created_at))), 2)\n    ELSE 0\n  END as \"Packets per hour\"\nFROM lora_tab\nWHERE \n  --destination_nodeid != 'FFFFFFFF'\n  sender_nodeid != 'FFFFFFFF'\n  AND user_id = 'Main'\n  AND created_at BETWEEN $__timeFrom() AND $__timeTo()\n--GROUP BY destination_nodeid\nGROUP BY sender_nodeid\nORDER BY COUNT(*) DESC\nLIMIT 7 ",
          "refId": "A",
          "sql": {
            "columns": [
              {
                "parameters": [],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50
          }
        }
      ],
      "title": "Main->Sender –ß–∞—Å—Ç–æ—Ç–∞ _____________–ü–∞–∫–µ—Ç–æ–≤____–ü–∞–∫–µ—Ç–æ–≤ –≤ —á–∞—Å",
      "type": "table"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "eae69e34-0aef-4950-a479-8b979ad67b75"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "custom": {
            "align": "auto",
            "cellOptions": {
              "type": "auto"
            },
            "inspect": false
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 9,
        "w": 4,
        "x": 19,
        "y": 3
      },
      "id": 27,
      "options": {
        "cellHeight": "sm",
        "footer": {
          "countRows": false,
          "fields": "",
          "reducer": [
            "sum"
          ],
          "show": false
        },
        "showHeader": false
      },
      "pluginVersion": "9.5.2",
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "eae69e34-0aef-4950-a479-8b979ad67b75"
          },
          "editorMode": "code",
          "format": "table",
          "rawQuery": true,
          "rawSql": "SELECT \n  destination_nodeid as \"Node ID\",\n  COUNT(*) as \"Frequency\"\nFROM lora_tab\nWHERE \n  destination_nodeid != 'FFFFFFFF'\n  AND (user_id = 'Main')\n  AND created_at BETWEEN $__timeFrom() AND $__timeTo()\nGROUP BY destination_nodeid\nORDER BY COUNT(*) DESC\nLIMIT 7",
          "refId": "A",
          "sql": {
            "columns": [
              {
                "parameters": [],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50
          }
        }
      ],
      "title": "Main->Destination –ß–∞—Å—Ç–æ—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è ID",
      "type": "table"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "eae69e34-0aef-4950-a479-8b979ad67b75"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "custom": {
            "align": "auto",
            "cellOptions": {
              "type": "auto"
            },
            "inspect": false
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 3,
        "w": 13,
        "x": 0,
        "y": 6
      },
      "id": 25,
      "options": {
        "cellHeight": "sm",
        "footer": {
          "countRows": false,
          "fields": "",
          "reducer": [
            "sum"
          ],
          "show": false
        },
        "showHeader": false
      },
      "pluginVersion": "9.5.2",
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "eae69e34-0aef-4950-a479-8b979ad67b75"
          },
          "editorMode": "code",
          "format": "table",
          "rawQuery": true,
          "rawSql": "SELECT \n  STRING_AGG(\n    CASE \n      WHEN sender_nodeid IN ('D4C3C9D4', 'D4C677F0') OR destination_nodeid IN ('D4C3C9D4', 'D4C677F0') THEN \n        CONCAT(\n          CASE sender_nodeid\n            WHEN 'D4C3C9D4' THEN 'üî¥'\n            WHEN 'D4C677F0' THEN 'üü¢'\n            ELSE ''\n          END,\n          sender_nodeid,\n          ' ‚Üí ',\n          CASE destination_nodeid\n            WHEN 'D4C3C9D4' THEN 'üî¥'\n            WHEN 'D4C677F0' THEN 'üü¢'\n            ELSE ''\n          END,\n          destination_nodeid\n        )\n      ELSE \n        sender_nodeid || ' ‚Üí ' || destination_nodeid\n    END, \n    ' | '\n    ORDER BY created_at ASC\n  ) as marked_nodes\nFROM (\n  SELECT sender_nodeid, destination_nodeid, created_at\n  FROM lora_tab \n  WHERE user_id = 'Guest'\n  ORDER BY created_at DESC\n  LIMIT 7\n) as latest_records;",
          "refId": "A",
          "sql": {
            "columns": [
              {
                "parameters": [],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50
          }
        }
      ],
      "title": "Guest: Sender ID ->Dest ID",
      "type": "table"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "eae69e34-0aef-4950-a479-8b979ad67b75"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "custom": {
            "align": "auto",
            "cellOptions": {
              "type": "color-text"
            },
            "inspect": false
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 3,
        "w": 13,
        "x": 0,
        "y": 9
      },
      "id": 21,
      "options": {
        "cellHeight": "sm",
        "footer": {
          "countRows": false,
          "enablePagination": false,
          "fields": "",
          "reducer": [
            "sum"
          ],
          "show": false
        },
        "showHeader": false
      },
      "pluginVersion": "9.5.2",
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "eae69e34-0aef-4950-a479-8b979ad67b75"
          },
          "editorMode": "code",
          "format": "table",
          "rawQuery": true,
          "rawSql": "SELECT \n  STRING_AGG(\n    CASE \n      WHEN destination_nodeid = 'D4C9C3D4' THEN \n        'üìå **' || destination_nodeid || '**'\n      WHEN destination_nodeid = 'F077C6D4' THEN \n        'üü¢ **' || destination_nodeid || '**'\n      ELSE \n        destination_nodeid\n    END, \n    ' | '\n    ORDER BY created_at ASC  -- —Å—Ç–∞—Ä—ã–µ —Å–ª–µ–≤–∞, –Ω–æ–≤—ã–µ —Å–ø—Ä–∞–≤–∞\n  ) as marked_nodes\nFROM (\n  SELECT destination_nodeid, created_at\n  FROM lora_tab \n  WHERE user_id = 'Guest_2'\n  ORDER BY created_at DESC\n  LIMIT 15\n) as latest_records;",
          "refId": "A",
          "sql": {
            "columns": [
              {
                "parameters": [],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50
          }
        }
      ],
      "title": "Guest_2->Dest ID",
      "type": "table"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "eae69e34-0aef-4950-a479-8b979ad67b75"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "main_packet_len"
            },
            "properties": [
              {
                "id": "displayName",
                "value": "Main len"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "guest_packet_len"
            },
            "properties": [
              {
                "id": "displayName",
                "value": "Guest len"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "guest_2_packet_len"
            },
            "properties": [
              {
                "id": "displayName",
                "value": "Guest_2 len"
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 5,
        "w": 24,
        "x": 0,
        "y": 12
      },
      "id": 6,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "mode": "single",
          "sort": "none"
        }
      },
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "eae69e34-0aef-4950-a479-8b979ad67b75"
          },
          "editorMode": "code",
          "format": "table",
          "rawQuery": true,
          "rawSql": "SELECT \n  full_packet_len as Main_packet_len,\n  created_at \nFROM lora_tab\n  WHERE user_id = 'Main';",
          "refId": "A",
          "sql": {
            "columns": [
              {
                "parameters": [],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50
          }
        },
        {
          "datasource": {
            "type": "postgres",
            "uid": "eae69e34-0aef-4950-a479-8b979ad67b75"
          },
          "editorMode": "code",
          "format": "table",
          "hide": false,
          "rawQuery": true,
          "rawSql": "SELECT \n  full_packet_len as Guest_packet_len,\n  created_at \nFROM lora_tab\n  WHERE user_id = 'Guest';",
          "refId": "B",
          "sql": {
            "columns": [
              {
                "parameters": [],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50
          }
        },
        {
          "datasource": {
            "type": "postgres",
            "uid": "eae69e34-0aef-4950-a479-8b979ad67b75"
          },
          "editorMode": "code",
          "format": "table",
          "hide": false,
          "rawQuery": true,
          "rawSql": "SELECT \n  full_packet_len as Guest_2_packet_len,\n  created_at \nFROM lora_tab\n  WHERE user_id = 'Guest_2';",
          "refId": "C",
          "sql": {
            "columns": [
              {
                "parameters": [],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50
          }
        }
      ],
      "title": "–î–ª–∏–Ω–∞ –ø–∞–∫–µ—Ç–æ–≤ (payload)",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "eae69e34-0aef-4950-a479-8b979ad67b75"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "displayName": "dBm",
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          }
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "main"
            },
            "properties": [
              {
                "id": "displayName",
                "value": "Main"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "guest"
            },
            "properties": [
              {
                "id": "displayName",
                "value": "Guest"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "guest_2"
            },
            "properties": [
              {
                "id": "displayName",
                "value": "Guest_2"
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 15,
        "w": 24,
        "x": 0,
        "y": 17
      },
      "id": 7,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "mode": "single",
          "sort": "none"
        }
      },
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "eae69e34-0aef-4950-a479-8b979ad67b75"
          },
          "editorMode": "code",
          "format": "table",
          "rawQuery": true,
          "rawSql": "SELECT \n  -ABS(signal_level_dbm) as Main,\n  created_at \nFROM lora_tab\nWHERE $__timeFilter(created_at)\n  AND user_id = 'Main'\n",
          "refId": "A",
          "sql": {
            "columns": [
              {
                "parameters": [],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50
          }
        },
        {
          "datasource": {
            "type": "postgres",
            "uid": "eae69e34-0aef-4950-a479-8b979ad67b75"
          },
          "editorMode": "code",
          "format": "table",
          "hide": false,
          "rawQuery": true,
          "rawSql": "SELECT \n  -ABS(signal_level_dbm) as Guest,\n  created_at \nFROM lora_tab\nWHERE $__timeFilter(created_at)\n  AND user_id = 'Guest'\n",
          "refId": "B",
          "sql": {
            "columns": [
              {
                "parameters": [],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50
          }
        },
        {
          "datasource": {
            "type": "postgres",
            "uid": "eae69e34-0aef-4950-a479-8b979ad67b75"
          },
          "editorMode": "code",
          "format": "table",
          "hide": false,
          "rawQuery": true,
          "rawSql": "SELECT \n  -ABS(signal_level_dbm) as Guest_2,\n  created_at \nFROM lora_tab\nWHERE $__timeFilter(created_at)\n  AND user_id = 'Guest_2'\n",
          "refId": "C",
          "sql": {
            "columns": [
              {
                "parameters": [],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50
          }
        }
      ],
      "title": "LoRa –ø–∞–∫–µ—Ç—ã, —É—Ä–æ–≤–µ–Ω—å —Å–∏–≥–Ω–∞–ª–∞",
      "transformations": [],
      "type": "timeseries"
    }
  ],
  "refresh": "5s",
  "schemaVersion": 38,
  "style": "dark",
  "tags": [],
  "templating": {
    "list": []
  },
  "time": {
    "from": "now-6h",
    "to": "now"
  },
  "timepicker": {},
  "timezone": "",
  "title": "Lora Packets Pro",
  "uid": "d334b98e-2bdd-4b30-be96-374529189bd5",
  "version": 17,
  "weekStart": ""
}
