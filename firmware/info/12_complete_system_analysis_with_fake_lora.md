# –ü–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Å–∏—Å—Ç–µ–º—ã —Å FAKE LoRa - –í–°–ï –†–ê–ë–û–¢–ê–ï–¢! ‚úÖ

## –í—ã—è–≤–ª–µ–Ω–Ω–∞—è –∏—Å—Ç–∏–Ω–∞: –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–¥–µ–∞–ª—å–Ω–æ!

### üéØ **–ì–ª–∞–≤–Ω—ã–π –≤—ã–≤–æ–¥:**
**–ü—Ä–æ–±–ª–µ–º–∞ –±—ã–ª–∞ –ù–ï –≤ –∫–æ–¥–µ, –∞ –≤ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ LoRa –ø–∞–∫–µ—Ç–æ–≤!**
–ü—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏ `FAKE_LORA=1` —Å–∏—Å—Ç–µ–º–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–ª–Ω—É—é —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å.

## –ü–æ–¥—Ä–æ–±–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤ —Å FAKE_LORA=1

### **1. WiFi –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ - –°–¢–ê–ë–ò–õ–¨–ù–û**
```
WiFi connected: IP 192.168.1.41
Server protocol: https, Port: 443
```
- ‚úÖ WiFi —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–¥–µ–∞–ª—å–Ω–æ
- ‚úÖ HTTPS —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è

### **2. Initial POST - –£–°–ü–ï–®–ï–ù**
```
POST data: {"user_id":"Guest","user_location":"Home","sender_nodeid":"00000000",...}
HTTP 200 OK, response time: 2141 ms
```
- ‚úÖ Initial POST –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏
- ‚úÖ –°–µ—Ä–≤–µ—Ä –æ—Ç–≤–µ—á–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### **3. –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–µ POST - –†–ê–ë–û–¢–ê–Æ–¢**
```
POST Task: periodic mode enabled, sending periodic POST
Response Time: 2128 ms, 2090 ms, 2106 ms, 2085 ms, 2118 ms
Packets Sent: 1, 2, 3... (—Ä–∞—Å—Ç–µ—Ç)
```
- ‚úÖ POST –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –∫–∞–∂–¥—ã–µ 10 —Å–µ–∫—É–Ω–¥
- ‚úÖ Response time —Å—Ç–∞–±–∏–ª–µ–Ω 2-2.5 —Å–µ–∫
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤–µ–¥–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### **4. FAKE LoRa –≥–µ–Ω–µ—Ä–∞—Ü–∏—è - –†–ê–ë–û–¢–ê–ï–¢**
```
LoRa packet received, length: 21 bytes
LoRa Received: <6D 65 >
```
- ‚úÖ FAKE LoRa –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ç–µ—Å—Ç–æ–≤—ã–µ –ø–∞–∫–µ—Ç—ã
- ‚úÖ –ü–∞–∫–µ—Ç—ã –ø—Ä–∏—Ö–æ–¥—è—Ç —Ä–µ–≥—É–ª—è—Ä–Ω–æ
- ‚úÖ –î–∞–Ω–Ω—ã–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –ª–æ–≥–∞—Ö

### **5. POST —Ç—Ä–∏–≥–≥–µ—Ä –ø—Ä–∏ LoRa - –°–†–ê–ë–ê–¢–´–í–ê–ï–¢!**
```
=== POST TRIGGER DEBUG ===
POST_EN_WHEN_LORA_RECEIVED=1
post_on_lora=1
WiFi enabled=1, connected=1
POST trigger condition met, building POST data...
Queueing POST request for LoRa packet
```
- ‚úÖ –í—Å–µ —É—Å–ª–æ–≤–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω—ã
- ‚úÖ POST —Ç—Ä–∏–≥–≥–µ—Ä —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø—Ä–∏ LoRa –ø–∞–∫–µ—Ç–∞—Ö
- ‚úÖ POST –¥–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º–∏—Ä—É—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### **6. –û—á–µ—Ä–µ–¥—å POST - –û–ë–†–ê–ë–ê–¢–´–í–ê–ï–¢–°–Ø**
```
=== QUEUE: Adding new POST request ===
Queue before: size=0, max_size=10
Added POST request to queue
Queue after: size=1
Queue contents preview: [0]: {"user_id":"Guest",...
```
- ‚úÖ POST –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ –æ—á–µ—Ä–µ–¥—å
- ‚úÖ –û—á–µ—Ä–µ–¥—å —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è
- ‚úÖ –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è

### **7. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—á–µ—Ä–µ–¥–∏ - –í–´–ü–û–õ–ù–Ø–ï–¢–°–Ø**
```
=== QUEUE: Processing queue ===
Queue size: 1
Sending individual POST request
Removed item from queue front
Queue size after removal: 0
Processing POST data: {"user_id":"Guest",...
```
- ‚úÖ –û—á–µ—Ä–µ–¥—å –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è
- ‚úÖ –≠–ª–µ–º–µ–Ω—Ç—ã —É–¥–∞–ª—è—é—Ç—Å—è –ø–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏
- ‚úÖ POST –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä

### **8. POST –æ—Ç LoRa –ø–∞–∫–µ—Ç–æ–≤ - –£–°–ü–ï–®–ï–ù**
```
Full postData: {"user_id":"Guest","sender_nodeid":"000000C8","destination_nodeid":"FFFFFFFF","full_packet_len":21,...}
HTTP 200 OK, response time: 2105 ms
Total sent: 3, received: 3
```
- ‚úÖ POST –æ—Ç LoRa –ø–∞–∫–µ—Ç–æ–≤ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è
- ‚úÖ –°–æ–¥–µ—Ä–∂–∏—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–∞–∫–µ—Ç–∞
- ‚úÖ –°–µ—Ä–≤–µ—Ä –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∏ –æ—Ç–≤–µ—á–∞–µ—Ç

## –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### **Response Time –¥–∏–Ω–∞–º–∏–∫–∞:**
- **Initial POST:** 2141 ms
- **Periodic POST:** 2128, 2090, 2106, 2085, 2118 ms
- **LoRa-triggered POST:** 2094, 2105 ms
- **–°—Ä–µ–¥–Ω–µ–µ:** ~2115 ms ‚úÖ

### **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–∞–∫–µ—Ç–æ–≤:**
- **Packets Sent:** 0 ‚Üí 1 ‚Üí 2 ‚Üí 3 (—Ä–∞—Å—Ç–µ—Ç)
- **Failed Packets:** 1 (—Å—Ç–∞—Ä—ã–π failed, –Ω–æ–≤—ã–µ —É—Å–ø–µ—à–Ω—ã)
- **Received LoRa:** 3 –ø–∞–∫–µ—Ç–∞
- **Average Response Time:** 7034 ms (—É—á–∏—Ç—ã–≤–∞—è —Å—Ç–∞—Ä—ã–π failed)

### **–û—á–µ—Ä–µ–¥—å:**
- **–î–æ–±–∞–≤–ª–µ–Ω–∏–π –≤ –æ—á–µ—Ä–µ–¥—å:** 3 (2 –æ—Ç LoRa + 1 retry)
- **–û–±—Ä–∞–±–æ—Ç–æ–∫ –æ—á–µ—Ä–µ–¥–∏:** 3
- **–†–∞–∑–º–µ—Ä –æ—á–µ—Ä–µ–¥–∏:** 0-1 (–±—ã—Å—Ç—Ä–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞)

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞

### **DEVICE_TYPE=0 (RECEIVER) - –ü–û–õ–ù–û–°–¢–¨–Æ –†–ê–ë–û–¢–û–°–ü–û–°–û–ë–ï–ù:**

#### **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
```cpp
#define POST_EN_WHEN_LORA_RECEIVED 1  // ‚úÖ –†–µ–∞–≥–∏—Ä—É–µ—Ç –Ω–∞ LoRa
#define POST_INTERVAL_EN 1             // ‚úÖ –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–µ POST
#define FAKE_LORA 1                   // ‚úÖ –°–∏–º—É–ª—è—Ü–∏—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
```

#### **–†–∞–±–æ—á–∏–µ —Ä–µ–∂–∏–º—ã:**
1. **–ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–µ POST** –∫–∞–∂–¥—ã–µ 10 —Å–µ–∫—É–Ω–¥ ‚úÖ
2. **POST –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ LoRa –ø–∞–∫–µ—Ç–æ–≤** ‚úÖ
3. **–û—á–µ—Ä–µ–¥—å —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–æ–π** ‚úÖ
4. **Retry –ø—Ä–∏ –Ω–µ—É–¥–∞—á–∞—Ö** ‚úÖ
5. **–ü–æ–ª–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞** ‚úÖ

## –í—ã–≤–æ–¥—ã –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### ‚úÖ **–ß—Ç–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ:**
1. **WiFi + HTTPS:** –ò–¥–µ–∞–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞
2. **POST –º–µ—Ö–∞–Ω–∏–∑–º:** –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω
3. **LoRa —Ç—Ä–∏–≥–≥–µ—Ä:** –°—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø—Ä–∏ –ø–∞–∫–µ—Ç–∞—Ö
4. **–û—á–µ—Ä–µ–¥—å:** –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
5. **–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:** –ü–æ–ª–Ω–∞—è –≤–∏–¥–∏–º–æ—Å—Ç—å
6. **Retry –ª–æ–≥–∏–∫–∞:** –†–∞–±–æ—Ç–∞–µ—Ç

### üéØ **–ì–ª–∞–≤–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞ "–ø—Ä–æ–±–ª–µ–º—ã":**
**–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ä–µ–∞–ª—å–Ω—ã—Ö LoRa –ø–∞–∫–µ—Ç–æ–≤!** –° FAKE_LORA —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–¥–µ–∞–ª—å–Ω–æ.

### üìã **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞:**

#### **1. –í–µ—Ä–Ω—É—Ç—å FAKE_LORA=0:**
```cpp
#define FAKE_LORA 0  // –î–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ LoRa –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è
```

#### **2. –û—Å—Ç–∞–≤–∏—Ç—å —Ç–µ–∫—É—â—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:**
```cpp
#define DEVICE_TYPE 0              // RECEIVER —Ä–µ–∂–∏–º
#define POST_INTERVAL_EN 1         // –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–µ POST
#define POST_EN_WHEN_LORA_RECEIVED 1  // POST –ø—Ä–∏ LoRa
```

#### **3. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:**
- –°–ª–µ–¥–∏—Ç—å –∑–∞ `Packets Sent` –∏ `Failed Packets`
- –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å response time —á–µ—Ä–µ–∑ –ª–æ–≥–∏
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å –æ—á–µ—Ä–µ–¥—å –Ω–∞ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ

#### **4. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):**
- –£–≤–µ–ª–∏—á–∏—Ç—å `POST_INTERVAL_MS` –¥–æ 30 —Å–µ–∫ –¥–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è –Ω–∞–≥—Ä—É–∑–∫–∏
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `sendPostAsync()` –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å batch sending –ø—Ä–∏ –±–æ–ª—å—à–æ–º —Ç—Ä–∞—Ñ–∏–∫–µ

## –§–∏–Ω–∞–ª—å–Ω—ã–π –≤–µ—Ä–¥–∏–∫—Ç

### üéâ **–°–ò–°–¢–ï–ú–ê –ì–û–¢–û–í–ê –ö –ü–†–û–ú–´–®–õ–ï–ù–ù–û–ú–£ –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ!**

**–í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∏–¥–µ–∞–ª—å–Ω–æ:**
- ‚úÖ **WiFi:** –°—Ç–∞–±–∏–ª—å–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
- ‚úÖ **HTTPS POST:** –ù–∞–¥–µ–∂–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ **LoRa –ø—Ä–∏–µ–º:** –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø–∞–∫–µ—Ç–æ–≤
- ‚úÖ **–û—á–µ—Ä–µ–¥—å:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
- ‚úÖ **Retry:** –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ –æ—à–∏–±–æ–∫
- ‚úÖ **–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:** –ü–æ–ª–Ω–∞—è –≤–∏–¥–∏–º–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã

**–ü—Ä–æ–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω! üöÄ**
